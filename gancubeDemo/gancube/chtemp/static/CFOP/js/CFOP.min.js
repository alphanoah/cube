"use strict";
$ = jQuery, $(function () {
    function e(s) {
        return window.LayerStickerGroup ? function () {
            var e, t, o = +$(this).attr("data-index"), c = o < 10 ? "0" + (1 + o) : 1 + o,
                i = $(this).find(".exampleText").text(), r = $(this).find(".exampleImg img").attr("src");

            switch ($("#cubeScene .formulaImg img").attr("src", r), $("#cubeScene .formulaImg .orderNum").text(c), s) {
                case 0:
                    t = "First2LayerSticker", e = LayerStickerGroup.First2LayerSticker;
                    break;
                case 1:
                    t = "orientationLayers", e = LayerStickerGroup.orientationLayers;
                    break;
                case 2:
                    t = "permutationLayers", e = LayerStickerGroup.permutationLayers
            }
            var n, u, a = e && e[o];
            -1 < i.indexOf("或") && (i = i.split("或")[0]), n = function () {
                a ? cubeModule.demoStickerColor(a) : cubeModule.assembleCube(), cubeModule.preventAnimate(), i && (cubeModule.conversionFormula(i), cubeModule.demoCode = i, setTimeout(function () {
                    cubeModule.runScramblingCode()
                }, 500)), history.pushState({}, document.title, location.href.replace(/(\?.*|$)/, "?cubePopType=".concat(t, "&cubePopId=").concat(o)))
            }, u = function () {
                history.pushState({}, "", location.href.replace(/\?.*/, ""))
            }, layer.open({
                type: 1,
                title: "",
                maxmin: !1,
                area: ["90%", ""],
                content: $("#cubePop"),
                skin: "cubePop",
                id: "cubePopID",
                closeBtn: 2,
                shadeClose: !0,
                shade: .6,
                success: function () {
                    n && n.call(cubeModule)
                },
                end: function () {
                    u && u.call(cubeModule)
                }
            })
        } : function () {
            setTimeout(function () {
                e(s)()
            }, 200)
        }
    }
    $("#cubePop").appendTo("body"), $("#First2LayerSticker").on("click", ".unit", e(0)), $("#orientationLayers").on("click", ".unit", e(1)), $("#permutationLayers").on("click", ".unit", e(2)), $("#pllDataunit").on("click", ".unit", e(2));
    var t = function () {
        for (var e = window.location.search.slice(1).split("&"), t = {}, o = 0; o < e.length; o++) {
            var c = e[o].split("=");
            t[c[0]] = c[1]
        }
        return t
    }();
    t.cubePopType && $("#" + t.cubePopType).find(".unit[data-index='" + t.cubePopId + "']").trigger("click")
});